---
title: 'Listar Conversaciones'
description: 'Obtener lista de conversaciones'
api: 'GET /api/conversations/'
---

## Endpoint

```
GET /api/conversations/
```

## Parámetros de Query

| Parámetro | Tipo | Descripción |
|-----------|------|-------------|
| `status` | string | Filtrar por status: `ACTIVE`, `WAITING`, `CLOSED` |
| `whatsapp_line` | integer | ID de la línea WhatsApp |
| `assigned_agent` | integer | ID del agente asignado |
| `page` | integer | Número de página (default: 1) |
| `page_size` | integer | Resultados por página (default: 20, max: 100) |

## Headers

```
Authorization: Token <your-token>
Content-Type: application/json
```

## Respuesta Exitosa

<ResponseField name="count" type="integer">
  Total de conversaciones
</ResponseField>

<ResponseField name="next" type="string">
  URL de la siguiente página
</ResponseField>

<ResponseField name="previous" type="string">
  URL de la página anterior
</ResponseField>

<ResponseField name="results" type="array">
  Lista de conversaciones
</ResponseField>

### Ejemplo de Respuesta

```json
{
  "count": 150,
  "next": "https://app.convey.pro/api/conversations/?page=2",
  "previous": null,
  "results": [
    {
      "id": 1,
      "contact": {
        "id": 42,
        "phone_number": "+521234567890",
        "name": "Juan Pérez",
        "email": "juan@example.com"
      },
      "whatsapp_line": {
        "id": 1,
        "name": "Ventas",
        "phone_number": "+15551234567"
      },
      "status": "ACTIVE",
      "assigned_agent": {
        "id": 1,
        "name": "María García"
      },
      "last_message_at": "2024-01-15T10:30:00Z",
      "unread_count": 2,
      "created_at": "2024-01-10T08:00:00Z"
    }
  ]
}
```

## Ejemplo de Uso

<CodeGroup>

```bash cURL
curl -X GET "https://app.convey.pro/api/conversations/?status=ACTIVE" \
  -H "Authorization: Token your-token-here"
```

```python Python
import requests

response = requests.get(
    "https://app.convey.pro/api/conversations/",
    params={"status": "ACTIVE", "page_size": 50},
    headers={"Authorization": "Token your-token-here"}
)

conversations = response.json()
for conv in conversations["results"]:
    print(f"{conv['contact']['name']}: {conv['status']}")
```

```javascript JavaScript
const response = await fetch(
  "https://app.convey.pro/api/conversations/?status=ACTIVE",
  {
    headers: {
      "Authorization": "Token your-token-here"
    }
  }
);

const data = await response.json();
console.log(`Total: ${data.count} conversaciones`);
```

</CodeGroup>

## Errores

| Código | Descripción |
|--------|-------------|
| 401 | Token no proporcionado o inválido |
| 403 | Sin permisos para ver conversaciones |
