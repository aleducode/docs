---
title: 'Actualizar Contacto'
description: 'Actualizar información de un contacto'
api: 'PATCH /api/contacts/{id}/'
---

## Endpoints

### Actualización Parcial

```
PATCH /api/contacts/{id}/
```

### Actualización Completa

```
PUT /api/contacts/{id}/
```

## Parámetros de Path

| Parámetro | Tipo | Descripción |
|-----------|------|-------------|
| `id` | integer | ID del contacto |

## Body (PATCH)

Solo los campos que deseas actualizar:

```json
{
  "name": "Juan Carlos Pérez",
  "metadata": {
    "company": "New Company",
    "city": "Guadalajara"
  }
}
```

## Body (PUT)

Todos los campos requeridos:

```json
{
  "phone_number": "+521234567890",
  "name": "Juan Carlos Pérez",
  "email": "juancarlos@example.com",
  "metadata": {
    "company": "New Company"
  }
}
```

## Respuesta Exitosa

**Status: 200 OK**

```json
{
  "id": 100,
  "phone_number": "+521234567890",
  "name": "Juan Carlos Pérez",
  "email": "juancarlos@example.com",
  "metadata": {
    "company": "New Company",
    "city": "Guadalajara"
  },
  "conversation_count": 3,
  "last_message_at": "2024-01-15T10:30:00Z",
  "created_at": "2024-01-01T08:00:00Z",
  "updated_at": "2024-01-15T11:00:00Z"
}
```

## Ejemplo de Uso

<CodeGroup>

```bash cURL
curl -X PATCH "https://app.convey.pro/api/contacts/100/" \
  -H "Authorization: Token your-token-here" \
  -H "Content-Type: application/json" \
  -d '{"name": "Juan Carlos Pérez"}'
```

```python Python
import requests

# Actualización parcial
response = requests.patch(
    "https://app.convey.pro/api/contacts/100/",
    headers={
        "Authorization": "Token your-token-here",
        "Content-Type": "application/json"
    },
    json={
        "name": "Juan Carlos Pérez",
        "metadata": {"vip": True}
    }
)

contact = response.json()
print(f"Contacto actualizado: {contact['name']}")
```

</CodeGroup>

## Actualizar Metadata

El campo `metadata` se **reemplaza completamente** en cada actualización. Si deseas agregar campos sin perder los existentes:

```python
# 1. Obtener contacto actual
contact = requests.get(
    f"{BASE_URL}/contacts/100/",
    headers=HEADERS
).json()

# 2. Merge metadata
new_metadata = {**contact["metadata"], "new_field": "value"}

# 3. Actualizar
requests.patch(
    f"{BASE_URL}/contacts/100/",
    headers=HEADERS,
    json={"metadata": new_metadata}
)
```

## Eliminar Contacto

```
DELETE /api/contacts/{id}/
```

**Status: 204 No Content**

<Warning>
Eliminar un contacto también elimina todas sus conversaciones y mensajes asociados.
</Warning>

## Errores

| Código | Descripción |
|--------|-------------|
| 400 | Datos inválidos |
| 401 | Token no proporcionado o inválido |
| 403 | Sin permisos para modificar este contacto |
| 404 | Contacto no encontrado |
